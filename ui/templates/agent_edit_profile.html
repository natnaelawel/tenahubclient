{{define "agent_edit_profile.layout"}}
    {{template "agent_edit_profile.content" .}}
{{end}}

{{define "agent_edit_profile.content"}}
<div class="container edit-profile" style="padding:30px; min-height:80vh; box-shadow:1px 3px 7px #888;">

    <form class="row" action="/agent/editagent" method="POST" enctype="multipart/form-data">
        <input type="hidden" value='{{ .Form.CSRF }}' name="_csrf"/>
        <!-- left column -->
    {{with .Agent}}
        <div class="col-md-4">
            <h1>Edit Profile</h1>
            <hr>
            <div class="text-center">
            {{ if .ProfilePic}}
                <img src="/assets/img/uploads/agent_uploads/{{.ProfilePic}}" class="avatar rounded-circle img-circle" alt="profile" width="150px" height = "150px">
            {{else}}
                <img src="/assets/img/guest_photo.jpg" class="avatar rounded-circle img-circle" alt="profile" width="150px" height = "150px">
            {{end}}
                <h4>Upload a different photo...</h4>
                <input type="file" name='upload_image' class="form-control">
            </div>
        </div>
        <!-- edit form column -->
        <div class="col-md-8 personal-info">

            <h2>Personal info</h2>

            <div class="form-group row" >
                <label class="col-lg-3 control-label">First name:</label>
                <div class="col-lg-8">
                    <input class="form-control" name="firstname" type="text" value="{{.FirstName}}" required>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-lg-3 control-label">Last name:</label>
                <div class="col-lg-8">
                    <input class="form-control" name="lastname" type="text" value="{{.LastName}}" required>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-lg-3 control-label">Email:</label>
                <div class="col-lg-8">
                    <input class="form-control" name="email" type="email" value="{{.Email}}" required>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-lg-3 control-label">Phone:</label>
                <div class="col-lg-8">
                    <input class="form-control" name="phone" type="tel" value="{{.PhoneNumber}}" required>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-md-3 control-label">Password:</label>
                <div class="col-md-8">
                    <input class="form-control" name="password" type="password" value="" minlength="8" required >
                </div>
            </div>
            <div class="form-group row">
                <label class="col-md-3 control-label">Confirm:</label>
                <div class="col-md-8">
                    <input class="form-control" name="confirm" type="password" value="" minlength="8" required>
                </div>
            </div>
            <div class="form-group">
                <label class="col-md-3 control-label"></label>
                <div class="col-md-8">
                    <input type="submit" name="submit" class="btn btn-primary" value="Save Changes">
                    <span></span>
                    <input type="reset" class="btn btn-default" value="Cancel">
                </div>
            </div>

        </div>
    {{end}}
    </form>
</div>
{{end}}

